# Boost.GIL (Generic Image Library)
#
# Copyright (c) 2018 Mateusz Loskot <mateusz@loskot.net>
#
# Use, modification and distribution is subject to the Boost Software License,
# Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

project boost-gil
    :
    requirements
        # MSVC: Since VS2017, default is -std:c++14, so no explicit switch is required.
        <toolset>msvc:<asynch-exceptions>on
        <toolset>msvc:<cxxflags>"/W4"
        <toolset>msvc:<define>_SCL_SECURE_NO_DEPRECATE <define>_CRT_SECURE_NO_WARNINGS <define>_CRT_NONSTDC_NO_DEPRECATE <define>NOMINMAX
        <toolset>intel:<debug-symbols>off
        <toolset>gcc:<cxxflags>"-std=c++11 -pedantic -fsanitize=undefined -fstrict-aliasing -Wconversion -Wextra -Wfloat-equal -Wshadow -Wsign-promo -Wstrict-aliasing -Wunused-parameter "
        <toolset>darwin:<cxxflags>"-std=c++11 -pedantic -fsanitize=undefined -fstrict-aliasing -Wconversion -Wextra -Wfloat-equal -Wshadow -Wsign-promo -Wstrict-aliasing -Wunused-parameter "
        <toolset>clang:<cxxflags>"-std=c++11 -pedantic -fsanitize=undefined -fstrict-aliasing -Wconversion -Wextra -Wfloat-equal -Wshadow -Wsign-promo -Wstrict-aliasing -Wunused-parameter -Wsign-conversion"
    ;

build-project example ;
build-project test ;
build-project numeric/test ;
build-project toolbox/test ;
build-project io/test ;
